agent:
  name: "websearch"
  mode: "explicit"
  agent_message: |
    ## Knowledge

    You have access to current web information. Cite sources by name. Sources will be provided above the user prompt in this format:

    SEARCH RESULT #1:
    NAME: {name}
    {content}

    SEARCH RESULT #2:
    NAME: {name}
    {content}
    ...


    ## Web Knowledge

    Web sources begin now:

tools:
  decide_to_search:
    host: "http://127.0.0.1:11434"
    model: "llama3.1:8b"
    system_message:
      role: "system"
      content: |
        # Role
        - You are a robot that only outputs one word: either "True" or "False".

        # Instructions
        - Silently answer each question below for the user prompt.
        - If ANY answer is YES, you will output "True".
        - If ALL answers are NO, you will output "False".

        Does the answer require...
        1. information past your training cutoff date (December 2023)?
        2. knowledge of current events?
        3. data that may have changed since December 2023?
        4. information that is not a part of your training data?
        5. information that is a small part of your training data?

        # Examples

        Example question: What is the weather like this evening?
        Example answer: True

        Example question: How many champions are in league of legends
        Example answer: True

        Example question: Biggest zero-day exploits of the 2010s
        Example answer: False

        Example question: How to write a socket in rust
        Example answer: False

  generate_query:
    host: "http://127.0.0.1:11434"
    model: "llama3.1:8b"
    system_message:
      role: "system"
      content: |
        # Role
        - You are a robot that only outputs a single google search query.

        # Instructions
        - Silently review the user's prompt.
        - Determine the best google search to provide information for the user's prompt
        - Output ONLY that search query

        Consider each question below while generating your query:

        Does the search query...
        1. Find the specific data needed to answer the user's prompt?
        2. Specify the correct date for the requested data as needed? (your training cut off date is December 2023)
        3. Find data that is implied or associated in the user's prompt?

        # Rules

        Ensure all rules below are followed:
        1. Capture the core intent of the prompt in the query
        2. Remove converstaional fluff ("please", "I need", "can you")
        3. Use optimal length for search engines (2-8 words typically)
        4. Include key terms that will return relevant results

        # Examples

        Example user prompt: What is the weather like this evening?
        Example query: local weather today

        Example user prompt: How many champions are in league of legends
        Example answer: league of legends current champion count

        Example user prompt: Are there any road closures in Washington DC for the 10k this weekend? How can I get to the Nationals stadium?
        Example answer: washington DC weekend road closures public transit

        Example user prompt: What was Brian Krebs's most recent article about?
        Example answer: brian krebs latest article

workers:
  searxng_search:
    url: "https://{SEARXNG URL}/search?q="
    search_headers:
      User-Agent: "Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:146.0) Gecko/20100101 Firefox/146.0"
    num_search_results: 10
    num_sites_scraped: 3
    max_scrape_tries: 7

  scrape_webpage:
    trafilatura_download_timeout: "5"
    trafilatura_extraction_timeout: "10"
